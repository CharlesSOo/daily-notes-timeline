.dn-editor {
    /*overflow-y: hidden;*/
}

.dn-editor .cm-scroller {
    /*overflow-y: hidden;*/
    padding: unset;
}

.dn-editor .workspace-leaf {
    all: unset;
}

.dn-editor .dn-content {
    display: none;
}

.dn-editor .workspace-leaf,
.dn-editor .workspace-split {
    height: 100%;
    width: 100%;
}

.dn-editor .markdown-source-view.mod-cm6 .cm-editor {
    min-height: 0;
}

.dn-editor .cm-editor .cm-content {
    min-height: 0 !important;
}

.dn-editor .cm-content {
    padding-bottom: 0 !important;
    padding-top: 0 !important;
}

.dn-editor .view-content {
    background: none !important;
}

.dn-editor .cm-scroller {
    padding: 0 !important;
    overflow-y: clip;
}

.daily-note-view .daily-note-wrapper::before {
    content: "";
    display: block;
    height: 1px;
    width: 100vw;
    margin-left: calc(-50vw + 50%);
    margin-bottom: 30px;
    background-color: var(--background-modifier-border);
}

.daily-note-view .daily-note-wrapper:first-of-type::before {
    height: 0px;
}

.daily-note-view .dn-range-indicator + .daily-note-container::before {
    height: 0px;
}

.is-popout-window .dn-editor .dn-content {
    margin: 0;
    border-radius: var(--he-popover-border-radius);
    overflow: hidden;
    height: auto;
}

.is-popout-window .dn-editor .workspace-leaf,
.is-popout-window .dn-editor .workspace-split {
    height: auto;
    width: 100%;
}

.is-popout-window .dn-editor .cm-scroller {
    height: auto;
}

.is-popout-window .dn-editor .markdown-source-view.mod-cm6 {
    height: auto;
}

.is-popout-window .dn-editor .view-content {
    height: auto;
}

.is-popout-window .dn-editor .workspace-leaf-content {
    height: auto;
}

.daily-note-view .embedded-backlinks {
    min-height: unset !important;
}

.daily-note-view {
    display: flex;
    flex-direction: column;
    gap: var(--size-4-4);
    overflow-x: hidden;
}

body.daily-notes-hide-frontmatter
    .daily-note-view
    .markdown-source-view.is-live-preview.show-properties
    .metadata-container {
    display: none;
}

body.daily-notes-hide-backlinks .daily-note-view .embedded-backlinks {
    display: none;
}

/* Custom Range Modal Styles */
.custom-range-date-container {
    margin-bottom: var(--size-4-2);
    display: flex;
    align-items: center;
}

.custom-range-date-container span {
    width: 100px;
    display: inline-block;
}

.custom-range-date-container input {
    flex: 1;
}

.custom-range-button-container {
    display: flex;
    justify-content: flex-end;
    margin-top: var(--size-4-4);
    gap: var(--size-4-2);
}

/* Preset management styles */
.preset-container {
    margin-bottom: var(--size-4-4);
}

.no-presets-message {
    color: var(--text-muted);
    font-style: italic;
    margin: var(--size-4-2) 0;
}

.preset-list {
    display: flex;
    flex-direction: column;
    gap: var(--size-4-2);
    margin: var(--size-4-2) 0;
}

.preset-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--size-2-4) var(--size-4-3);
    background-color: var(--background-secondary);
    border-radius: var(--radius-s);
}

.preset-info {
    display: flex;
    align-items: center;
}

.preset-type {
    font-weight: bold;
    margin-right: var(--size-2-2);
}

.preset-actions {
    display: flex;
    gap: var(--size-4-2);
}

.preset-action-button {
    padding: var(--size-2-2) var(--size-2-4);
    border-radius: var(--radius-s);
    font-size: var(--font-ui-small);
    cursor: pointer;
}

.preset-open-button {
    background-color: var(--interactive-accent);
    color: var(--text-on-accent);
}

.preset-delete-button {
    background-color: var(--background-modifier-error);
    color: var(--text-on-accent);
}

/* Add preset modal styles */
.setting-item {
    margin-bottom: var(--size-4-4);
}

.target-input {
    width: 100%;
    padding: var(--size-2-3);
    border-radius: var(--radius-s);
    border: 1px solid var(--background-modifier-border);
    background-color: var(--background-primary);
}

.modal-button-container {
    display: flex;
    justify-content: flex-end;
    gap: var(--size-4-2);
    margin-top: var(--size-4-4);
}

.is-phone .mod-root .workspace-tabs:not(.mod-visible):has(.daily-note-view) {
    display: flex !important;
}

/* Svelte component styles - using correct hashes for this fork */
.daily-note.svelte-1lqygrw {
    margin-bottom: 0;
    padding-bottom: 8px;
}

.daily-note.svelte-1lqygrw:has(.daily-note-editor[data-collapsed="true"]) {
    margin-bottom: 0;
    padding-bottom: 0;
}

.daily-note-header.svelte-1lqygrw {
    margin-bottom: 8px;
}

.daily-note-header.is-today.svelte-1lqygrw {
    border-left: 2px solid var(--color-accent);
    padding-left: 10px;
    display: inline-flex;
    align-items: center;
}

.daily-note-title.svelte-1lqygrw {
    font-size: var(--inline-title-size, var(--h1-size, 1.5em));
    font-weight: var(--inline-title-weight, var(--h1-weight, 700));
    line-height: var(--inline-title-line-height, var(--h1-line-height, 1.3));
}

.daily-note-editor.svelte-1lqygrw {
    min-height: 0;
}

.daily-note-editor[data-collapsed="true"].svelte-1lqygrw {
    display: none;
}

.clickable-link.svelte-1lqygrw {
    cursor: pointer;
    text-decoration: none;
    color: var(--text-normal);
}

.clickable-link.svelte-1lqygrw:hover {
    color: var(--color-accent);
}

.editor-placeholder.svelte-1lqygrw {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100px;
    color: var(--text-muted);
    font-style: italic;
}

.dn-stock.svelte-4q3cv7 {
    height: 1000px;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.dn-stock-text.svelte-4q3cv7 {
    text-align: center;
}

.no-more-text.svelte-4q3cv7 {
    margin-left: auto;
    margin-right: auto;
    text-align: center;
}

.dn-blank-day.svelte-4q3cv7 {
    display: flex;
    margin-left: auto;
    margin-right: auto;
    max-width: var(--file-line-width);
    color: var(--color-base-40);
    padding-top: 20px;
    padding-bottom: 20px;
    transition: all 0.3s;
}

.dn-blank-day.svelte-4q3cv7:hover {
    padding-top: 40px;
    padding-bottom: 40px;
    transition: padding 0.3s;
}

.dn-blank-day-text.svelte-4q3cv7 {
    margin-left: auto;
    margin-right: auto;
    text-align: center;
}

.daily-note-wrapper.svelte-4q3cv7 {
    width: 100%;
}

/* ========================================
   Reflect-style Backlinks
   ======================================== */

/* Hide nav header and empty backlinks */
.daily-note-view .embedded-backlinks .nav-header {
    display: none;
}

.daily-note-view .embedded-backlinks .backlink-pane:has(.search-empty-state) {
    display: none;
}

/* Hide Unlinked mentions section (3rd child onwards) */
.daily-note-view .embedded-backlinks .backlink-pane > :nth-child(n+3) {
    display: none !important;
}

/* === HEADER: "Incoming backlinks (N)" === */
.daily-note-view .embedded-backlinks .backlink-pane > .tree-item-self:first-child {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 8px 0;
    margin-bottom: 8px;
}

/* Chevron icon */
.daily-note-view .embedded-backlinks .backlink-pane > .tree-item-self:first-child .collapse-icon {
    display: flex;
    color: var(--text-muted);
}

/* Rename "Linked mentions" to "Incoming backlinks" */
.daily-note-view .embedded-backlinks .backlink-pane > .tree-item-self:first-child .tree-item-inner {
    font-size: 0;
}

.daily-note-view .embedded-backlinks .backlink-pane > .tree-item-self:first-child .tree-item-inner::before {
    content: "Incoming backlinks";
    font-size: var(--font-ui-small);
    color: var(--text-muted);
}

/* Count in parentheses */
.daily-note-view .embedded-backlinks .backlink-pane > .tree-item-self:first-child .tree-item-flair-outer {
    display: inline;
    margin-left: 0;
}

.daily-note-view .embedded-backlinks .backlink-pane > .tree-item-self:first-child .tree-item-flair {
    background: none;
    color: var(--text-muted);
    font-size: var(--font-ui-small);
}

.daily-note-view .embedded-backlinks .backlink-pane > .tree-item-self:first-child .tree-item-flair::before {
    content: "(";
}

.daily-note-view .embedded-backlinks .backlink-pane > .tree-item-self:first-child .tree-item-flair::after {
    content: ")";
}

/* === SEARCH RESULTS === */
.daily-note-view .embedded-backlinks .search-result-container {
    padding: 0;
    margin: 0;
}

/* Each file group (source date) */
.daily-note-view .embedded-backlinks .tree-item.search-result {
    margin-bottom: 16px;
}

.daily-note-view .embedded-backlinks .tree-item.search-result:last-child {
    margin-bottom: 0;
}

/* File/date title - style like Reflect */
.daily-note-view .embedded-backlinks .search-result-file-title {
    padding: 0;
    margin-bottom: 8px;
}

.daily-note-view .embedded-backlinks .search-result-file-title .tree-item-icon {
    display: none;
}

.daily-note-view .embedded-backlinks .search-result-file-title .tree-item-flair-outer {
    display: none;
}

.daily-note-view .embedded-backlinks .search-result-file-title .tree-item-inner {
    color: var(--text-accent);
    font-size: var(--font-ui-medium);
}

/* Match items - bullets */
.daily-note-view .embedded-backlinks .search-result-file-matches {
    display: flex;
    flex-direction: column;
    gap: 4px;
    padding-left: 8px;
}

.daily-note-view .embedded-backlinks .search-result-file-match {
    display: flex;
    align-items: baseline;
    font-size: var(--font-ui-small);
    padding: 2px 0;
    gap: 6px;
}

/* Bullet point */
.daily-note-view .embedded-backlinks .search-result-file-match::before {
    content: "â€¢";
    color: var(--text-muted);
    flex-shrink: 0;
}

/* Hide redundant link to current note in backlinks */
.daily-note-view .embedded-backlinks .search-result-file-matched-text {
    display: none;
}

/* Hide hover buttons */
.daily-note-view .embedded-backlinks .search-result-hover-button {
    display: none !important;
}

/* Hide collapse icons in file titles */
.daily-note-view .embedded-backlinks .search-result-file-title .collapse-icon {
    display: none;
}

/* Remove ALL borders in backlinks */
.daily-note-view .embedded-backlinks,
.daily-note-view .embedded-backlinks *,
.daily-note-view .embedded-backlinks .search-result-file-match,
.daily-note-view .embedded-backlinks .search-result-file-matches,
.daily-note-view .embedded-backlinks .tree-item.search-result {
    border: none !important;
    border-bottom: none !important;
    box-shadow: none !important;
}

/* Hide any stray indicators/dots */
.daily-note-view .tree-item-icon:empty,
.daily-note-view .nav-folder-collapse-indicator,
.daily-note-view .is-clickable:not(.tree-item-inner):not(.clickable-link)::before {
    display: none !important;
}

/* Hide wiki link brackets in backlinks */
.daily-note-view .embedded-backlinks .cm-formatting-link,
.daily-note-view .embedded-backlinks .cm-formatting-link-start,
.daily-note-view .embedded-backlinks .cm-formatting-link-end,
.daily-note-view .embedded-backlinks .cm-formatting {
    display: none !important;
}
